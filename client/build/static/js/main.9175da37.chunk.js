(this.webpackJsonpdarelist=this.webpackJsonpdarelist||[]).push([[0],{18:function(e,t,a){},49:function(e,t,a){e.exports=a(83)},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),i=a.n(l),c=(a(18),a(19),a(26)),s=a(8),o=a(23),u=a(47),d=a(25),p=a(13),h={players:[{id:0,name:"",multiplier:0,dares:[]}],playerCount:1},m={warningIsActive:!1},E={page:"game"},f={dares:[],penalties:[],filteredDares:[],daresLoading:!1,penaltiesLoading:!1,editDare:{},modal:!1},b=Object(o.combineReducers)({player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PLAYERS":return Object(p.a)({},e);case"DELETE_PLAYERS":return Object(p.a)({},e,{players:[]});case"ADD_PLAYER":return Object(p.a)({},e,{players:[].concat(Object(d.a)(e.players),[{id:e.playerCount,name:"",multiplier:0,dares:[],penalties:[]}]),playerCount:e.playerCount+1});case"RESET_PLAYERS":return Object(p.a)({},e,{players:e.players.map((function(e){return{id:e.id,name:e.name,multiplier:e.multiplier,dares:[],penalties:[]}}))});case"UPDATE_USERNAME":return Object(p.a)({},e,{players:e.players.map((function(e){return e.id==t.payload.id?{id:e.id,name:t.payload.value,multiplier:e.multiplier,dares:e.dares,penalties:e.penalties}:e}))});case"DARE_PLAYER":return Object(p.a)({},e,{players:e.players.map((function(e){return e.id==t.payload.id?{id:e.id,name:e.name,multiplier:e.multiplier,dares:[].concat(Object(d.a)(e.dares),[t.payload.dare])}:e}))});case"PENALISE_PLAYER":return Object(p.a)({},e,{players:e.players.map((function(e){return e.id==t.payload.playerID?{id:e.id,name:e.name,multiplier:e.multiplier,dares:e.dares.map((function(e){return console.log(e._id+"=="+t.payload.dareID),e._id==t.payload.dareID?{_id:e._id,text:e.text,pointValue:e.pointValue,challengable:e.challengable,nsfw:e.nsfw,failed:!e.failed,penalty:t.payload.penalty}:e}))}:e}))});case"RESET_PLAYER":return Object(p.a)({},e,{players:e.players.map((function(e){return e.id==t.payload?{id:e.id,name:e.name,multiplier:e.multiplier,dares:[],penalties:[]}:e}))});case"DELETE_PLAYER":return Object(p.a)({},e,{players:e.players.filter((function(e){return e.id!=t.payload}))});default:return e}},controls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE":return Object(p.a)({},e,{warningIsActive:!e.warningIsActive});default:return e}},navigation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GO":return Object(p.a)({},e,{page:t.payload});default:return e}},dares:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DARE":return Object(p.a)({},e,{dares:[t.payload].concat(Object(d.a)(e.dares)),filteredDares:[t.payload].concat(Object(d.a)(e.filteredDares))});case"GET_DARES":return Object(p.a)({},e,{dares:t.payload,daresLoading:!1});case"GET_PENALTIES":return Object(p.a)({},e,{penalties:t.payload,penaltiesLoading:!1});case"DARES_LOADING":return Object(p.a)({},e,{daresLoading:!0});case"PENALTIES_LOADING":return Object(p.a)({},e,{penaltiesLoading:!0});case"DELETE_DARE":return Object(p.a)({},e,{dares:e.dares.filter((function(e){return e._id!=t.payload})),filteredDares:e.filteredDares.filter((function(e){return e._id!=t.payload}))});case"DELETE_PENALTY":return Object(p.a)({},e,{penalties:e.penalties.filter((function(e){return e._id!=t.payload}))});case"FILTER_DARES":return Object(p.a)({},e,{filteredDares:e.dares.filter((function(e){return e.text.includes(t.payload)}))});case"EDIT_DARES":return Object(p.a)({},e,{editDare:t.payload,modal:!e.modal});default:return e}}}),y=a(48),v=[u.a],O=Object(o.createStore)(b,{},Object(y.composeWithDevTools)(o.applyMiddleware.apply(void 0,v))),j=a(10),g=a(3),D=a(4),k=a(6),P=a(5),A=a(7),C=a(24),_=a.n(C),L=function(){return{type:"DARES_LOADING"}},S=function(){return{type:"PENALTIES_LOADING"}},w=function(e){return function(t){_.a.delete("/api/dares/".concat(e)).then((function(a){return t({type:"DELETE_DARE",payload:e})}))}},R=function(e){return{type:"FILTER_DARES",payload:e}},T=a(11),I=function(e){function t(){return Object(g.a)(this,t),Object(k.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{title:"Add player",onClick:this.props.addPlayer},r.a.createElement(T.a,{icon:"plus-circle",size:"lg"}))}}]),t}(n.Component),x=Object(s.b)((function(e){return{players:e.players}}),{addPlayer:function(){return{type:"ADD_PLAYER"}}})(I),Y=a(16),G=function(e,t){return{type:"DARE_PLAYER",payload:{id:e,dare:t}}},N=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(k.a)(this,Object(P.a)(t).call(this,e))).darePlayers=a.darePlayers.bind(Object(Y.a)(a)),a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"darePlayers",value:function(){for(var e=0;e<this.props.player.players.length;e++){var t=Math.floor(Math.random()*this.props.dares.dares.length);this.props.darePlayer(this.props.player.players[e].id,this.props.dares.dares[t])}}},{key:"render",value:function(){return r.a.createElement("button",{title:"Dare all",onClick:this.darePlayers},r.a.createElement(T.a,{icon:"dice",size:"lg"}))}}]),t}(n.Component),M=Object(s.b)((function(e){return{player:e.player,dares:e.dares}}),{darePlayer:G})(N),K=function(e){function t(){return Object(g.a)(this,t),Object(k.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{title:"Clear dares",onClick:this.props.resetPlayers},r.a.createElement(T.a,{icon:"sync-alt",size:"lg"}))}}]),t}(n.Component),B=Object(s.b)((function(e){return{players:e.players}}),{resetPlayers:function(){return{type:"RESET_PLAYERS"}}})(K),U=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(k.a)(this,Object(P.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(Y.a)(a)),a.handleBlur=a.handleBlur.bind(Object(Y.a)(a)),a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"handleClick",value:function(){this.props.toggle(),this.props.controls.warningIsActive&&this.props.deletePlayers()}},{key:"handleBlur",value:function(){this.props.controls.warningIsActive&&this.props.toggle()}},{key:"render",value:function(){return r.a.createElement("button",{title:"Clear Players",onClick:this.handleClick,onBlur:this.handleBlur},r.a.createElement(T.a,{icon:"trash-alt",size:"lg"}))}}]),t}(n.Component),V=Object(s.b)((function(e){return{controls:e.controls}}),{toggle:function(){return{type:"TOGGLE"}},deletePlayers:function(){return{type:"DELETE_PLAYERS"}}})(U),z=function(e){return{type:"GO",payload:e}},F=function(e){function t(){return Object(g.a)(this,t),Object(k.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{title:"Settings",onClick:function(){return e.props.go("settings")}},r.a.createElement(T.a,{icon:"cog",size:"lg"})))}}]),t}(n.Component),W=Object(s.b)((function(e){return{navigation:e.controls}}),{go:z})(F),J=function(e){function t(){return Object(g.a)(this,t),Object(k.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{title:"Return",onClick:function(){return e.props.go("game")}},r.a.createElement(T.a,{icon:"arrow-left",size:"lg"})))}}]),t}(n.Component),q=Object(s.b)((function(e){return{navigation:e.controls}}),{go:z})(J),H=function(e){function t(){return Object(g.a)(this,t),Object(k.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row",align:"left"},r.a.createElement("div",{class:"col"},r.a.createElement("h1",null,"darelist"))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("hr",null))),"game"==this.props.navigation.page?r.a.createElement("div",{class:"row nav"},r.a.createElement("div",{class:"col"},r.a.createElement(x,null)),r.a.createElement("div",{class:"col"},r.a.createElement(M,null)),r.a.createElement("div",{class:"col"},r.a.createElement(B,null)),r.a.createElement("div",{class:"col"},r.a.createElement(V,null)),r.a.createElement("div",{class:"col"},r.a.createElement(W,null))):r.a.createElement("div",{class:"row nav"},r.a.createElement("div",{class:"col"},r.a.createElement(q,null))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},this.props.controls.warningIsActive?r.a.createElement("div",{class:"hamburger alert alert-warning"},"You are about to remove all players."):"")))}}]),t}(n.Component),Q=Object(s.b)((function(e){return{controls:e.controls,navigation:e.navigation}}),{})(H),X=a(92),Z=a(85),$=a(86),ee=a(87),te=a(88),ae=a(89),ne=a(90),re=a(91),le=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(k.a)(this,Object(P.a)(t).call(this,e))).state={dare:a.props.dare},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(X.a,{isOpen:this.props.isOpen,toggle:function(){return e.props.toggle(e.props.dare)}},r.a.createElement(Z.a,{toggle:function(){return e.props.toggle(e.props.dare)}},"Edit dare"),r.a.createElement($.a,null,r.a.createElement(ee.a,{onSubmit:this.onSubmit},r.a.createElement(te.a,null,r.a.createElement(ae.a,{for:"text"},"Dare text"),r.a.createElement(ne.a,{type:"text",name:"text",defaultValue:this.state.dare.text}),r.a.createElement("input",{type:"checkbox","data-toggle":"toggle","data-on":"SFW","data-off":"NSFW"}),r.a.createElement(re.a,{color:"light",style:{marginTop:"2rem"},block:!0},"Update")))))}}]),t}(n.Component),ie=function(e){function t(){return Object(g.a)(this,t),Object(k.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.dares.loading?r.a.createElement("div",null,"loading"):r.a.createElement("div",null,this.props.dares.modal?r.a.createElement(le,{toggle:this.props.editDare,isOpen:this.props.dares.modal,dare:this.props.dares.editDare}):r.a.createElement("div",null),this.props.dares.filteredDares.map((function(t){return r.a.createElement("div",{class:"row shadow panel",key:t._id},r.a.createElement("div",{class:"col-10 offset-1"},r.a.createElement("p",null,t.text)),r.a.createElement("div",{class:"col"},r.a.createElement("button",{onClick:function(){return e.props.editDare(t)}},r.a.createElement(T.a,{icon:"edit"})),r.a.createElement("button",{onClick:function(){return e.props.deleteDare(t._id)}},r.a.createElement(T.a,{icon:"trash-alt"}))))}))))}}]),t}(n.Component),ce=Object(s.b)((function(e){return{dares:e.dares}}),{deleteDare:w,editDare:function(e){return{type:"EDIT_DARES",payload:e}},filterDares:R})(ie);var se=function(e){for(var t=[],a=[];;){var n=e.indexOf("The Dare:");if(-1==n)break;var r=e.indexOf("Point Value:"),l=e.slice(n+10,r),i=e.slice(r+13,r+14);console.log(i);var c=e.indexOf("Challengeable:"),s=e.slice(c+15,c+17);"Ye"==s?(s=!0,e=e.slice(r+33)):(s=!1,e=e.slice(r+32)),t.push({text:l,pointValue:parseInt(i),challengable:s,nsfw:!1})}for(;;){var o=e.indexOf("The Penalty:");if(-1==o)break;var u=(e=e.slice(o+13)).indexOf("The Penalty:");l=e.slice(0,u);e=e.slice(u),a.push({text:l})}return{dares:t,penalties:a}},oe=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(k.a)(this,Object(P.a)(t).call(this,e))).state={value:""},a.handleChange=a.handleChange.bind(Object(Y.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(Y.a)(a)),a.handleKeypress=a.handleKeypress.bind(Object(Y.a)(a)),a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.filterDares(this.state.value)}},{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.filterDares(this.state.value)}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),"admin: translate"===this.state.value){for(var t=prompt("document translate: "),a=se(t),n=0;n<a.dares.length;n++)this.props.addDare(a.dares[n]);for(n=0;n<a.penalties.length;n++)this.props.addPenalty(a.penalties[n])}else if("admin: reset"===this.state.value){for(n=0;n<this.props.dares.dares.length;n++)this.props.deleteDare(this.props.dares.dares[n]._id);for(n=0;n<this.props.dares.penalties.length;n++)this.props.deletePenalty(this.props.dares.penalties[n]._id)}else{var r={text:this.state.value,pointValue:1,challengable:!1,nsfw:!1};this.props.addDare(r)}}},{key:"handleKeypress",value:function(e){"Enter"===e.key&&e.target.blur()}},{key:"render",value:function(){return r.a.createElement("div",{class:"container settings",align:"center"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"input-group input-group-lg",id:"dareForm"},r.a.createElement("input",{type:"text",class:"form-control",placeholder:"Dare text","aria-label":"Dare text",value:this.state.value,onChange:this.handleChange}),r.a.createElement("div",{class:"input-group-append"},r.a.createElement("button",{class:"btn btn-outline-secondary",type:"submit"},"Add dare")))),r.a.createElement(ce,null))))}}]),t}(n.Component),ue=Object(s.b)((function(e){return{dares:e.dares}}),{addDare:function(e){return function(t){_.a.post("/api/dares",e).then((function(e){return t({type:"ADD_DARE",payload:e.data})}))}},filterDares:R,deleteDare:w,addPenalty:function(e){return function(t){_.a.post("/api/penalties",e).then((function(e){return t({type:"ADD_PENALTY",payload:e.data})}))}},deletePenalty:function(e){return function(t){_.a.delete("/api/penalties/".concat(e)).then((function(a){return t({type:"DELETE_PENALTY",payload:e})}))}}})(oe),de=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(k.a)(this,Object(P.a)(t).call(this,e))).fail=a.fail.bind(Object(Y.a)(a)),a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"fail",value:function(){var e=Math.floor(Math.random()*this.props.dares.penalties.length);this.props.penalisePlayer(this.props.playerID,this.props.dareID,this.props.dares.penalties[e])}},{key:"render",value:function(){var e;switch(this.props.dare.pointValue){case 2:e=r.a.createElement(T.a,{icon:"dice-two"});break;case 3:e=r.a.createElement(T.a,{icon:"dice-three"});break;case 4:e=r.a.createElement(T.a,{icon:"dice-four"});break;case 5:e=r.a.createElement(T.a,{icon:"dice-five"});break;default:e=r.a.createElement(T.a,{icon:"dice-one"})}return r.a.createElement("button",{onClick:this.fail},r.a.createElement("div",{class:"container-fluid",id:"dareContainer"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-1"},e),r.a.createElement("div",{class:"col-10"},this.props.dare.failed?r.a.createElement("div",null,r.a.createElement("strike",null,this.props.dare.text),r.a.createElement("div",{class:"penalty"},this.props.dare.penalty.text)):r.a.createElement("div",null,this.props.dare.text)),r.a.createElement("div",{class:"col-1"},this.props.dare.challengable?r.a.createElement("i",null,"Challengable"):""))))}}]),t}(n.Component),pe=Object(s.b)((function(e){return{dares:e.dares}}),{penalisePlayer:function(e,t,a){return{type:"PENALISE_PLAYER",payload:{playerID:e,dareID:t,penalty:a}}}})(de),he=function(e){function t(){return Object(g.a)(this,t),Object(k.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"container-fluid"},this.props.dares.map((function(t){return r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement(pe,{key:t._id,dareID:t._id,playerID:e.props.playerID,dare:t})))})))}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(k.a)(this,Object(P.a)(t).call(this,e))).state={value:a.props.value},a.handleChange=a.handleChange.bind(Object(Y.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(Y.a)(a)),a.handleKeypress=a.handleKeypress.bind(Object(Y.a)(a)),a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.updateUsername(this.state.value,this.props.playerID)}},{key:"handleKeypress",value:function(e){"Enter"===e.key&&e.target.blur()}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit,onKeyDown:this.handleKeypress},r.a.createElement("input",{type:"text",placeholder:"Player",id:"username",value:this.state.value,onChange:this.handleChange,onBlur:this.handleSubmit}))}}]),t}(n.Component),Ee=Object(s.b)((function(e){return{controls:e.controls}}),{updateUsername:function(e,t){return{type:"UPDATE_USERNAME",payload:{value:e,id:t}}}})(me),fe=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(k.a)(this,Object(P.a)(t).call(this,e))).darePlayer=a.darePlayer.bind(Object(Y.a)(a)),a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"darePlayer",value:function(){var e=Math.floor(Math.random()*this.props.dares.dares.length);this.props.darePlayer(this.props.id,this.props.dares.dares[e])}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"container panel shadow player"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-10 offset-2",align:"right"},r.a.createElement("button",{onClick:this.darePlayer},r.a.createElement(T.a,{icon:"dice"})),r.a.createElement("button",{onClick:function(){return e.props.resetPlayer(e.props.id)}},r.a.createElement(T.a,{icon:"sync-alt"})),r.a.createElement("button",{onClick:function(){return e.props.deletePlayer(e.props.id)}},r.a.createElement(T.a,{icon:"trash-alt"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-10 offset-1"},r.a.createElement(Ee,{value:this.props.name,playerID:this.props.id}))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement(he,{playerID:this.props.id,dares:this.props.playerDares}))))}}]),t}(n.Component),be=Object(s.b)((function(e){return{player:e.player,dares:e.dares}}),{darePlayer:G,resetPlayer:function(e){return{type:"RESET_PLAYER",payload:e}},deletePlayer:function(e){return{type:"DELETE_PLAYER",payload:e}}})(fe),ye=function(e){function t(){return Object(g.a)(this,t),Object(k.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.getPlayers()}},{key:"render",value:function(){return r.a.createElement("div",{class:"container-fluid game",align:"center"},this.props.player.players.map((function(e){return r.a.createElement("div",{class:"row",key:e.id},r.a.createElement("div",{class:"col"},r.a.createElement(be,{id:e.id,name:e.name,multiplier:e.multiplier,playerDares:e.dares})))})))}}]),t}(n.Component),ve=Object(s.b)((function(e){return{player:e.player}}),{getPlayers:function(){return{type:"GET_PLAYERS"}}})(ye),Oe=function(e){function t(){return Object(g.a)(this,t),Object(k.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.getDares(),this.props.getPenalties()}},{key:"render",value:function(){var e;switch(this.props.navigation.page){case"game":e=r.a.createElement(ve,null);break;case"settings":e=r.a.createElement(ue,null);break;default:e=r.a.createElement(ve,null)}return r.a.createElement("div",{class:"container-fluid",align:"center"},r.a.createElement("div",{class:"row banner"},r.a.createElement("div",{class:"col"},r.a.createElement(Q,null))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},this.props.dares.loading?r.a.createElement("div",null,"loading"):e)))}}]),t}(n.Component),je=Object(s.b)((function(e){return{navigation:e.navigation,dares:e.dares}}),{getDares:function(){return function(e){e(L()),_.a.get("/api/dares").then((function(t){return e({type:"GET_DARES",payload:t.data})}))}},getPenalties:function(){return function(e){e(S()),_.a.get("/api/penalties").then((function(t){return e({type:"GET_PENALTIES",payload:t.data})}))}}})(Oe);c.b.add(j.n,j.m,j.o,j.b,j.k,j.d,j.l,j.c,j.a,j.j,j.g,j.i,j.h,j.f,j.e),i.a.render(r.a.createElement(s.a,{store:O},r.a.createElement(je,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.9175da37.chunk.js.map