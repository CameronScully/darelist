{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\SATAN\\\\darelist\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\SATAN\\\\darelist\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\SATAN\\\\darelist\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\SATAN\\\\darelist\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\SATAN\\\\darelist\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\SATAN\\\\darelist\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";//react libraries\nimport React,{Component}from\"react\";import ReactDOM from'react-dom';import'../../index.scss';//redux\nimport{connect}from'react-redux';import{addDare,filterDares,deleteDare}from'../../actions/dareActions';//bootstrap\nimport'bootstrap/dist/css/bootstrap.min.css';//components\nimport EditDares from\"../game/edit-dares.jsx\";//functions\nimport translate from\"../../functions/textTranslator.js\";var SettingsPage=/*#__PURE__*/function(_Component){_inherits(SettingsPage,_Component);function SettingsPage(props){var _this;_classCallCheck(this,SettingsPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(SettingsPage).call(this,props));_this.state={value:''};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleKeypress=_this.handleKeypress.bind(_assertThisInitialized(_this));return _this;}_createClass(SettingsPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.filterDares(this.state.value);}},{key:\"handleChange\",value:function handleChange(event){this.setState({value:event.target.value});this.props.filterDares(this.state.value);}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();if(this.state.value===\"admin: translate\"){var promptText=prompt(\"document translate: \");var newDares=translate(promptText);for(var i=0;i<newDares.length;i++){this.props.addDare(newDares[i]);}}else if(this.state.value===\"admin: reset\"){for(var i=0;i<this.props.dares.dares.length;i++){this.props.deleteDare(this.props.dares.dares[i]._id);}}else{var newDare={text:this.state.value,pointValue:1,challengable:false,nsfw:false};this.props.addDare(newDare);}}},{key:\"handleKeypress\",value:function handleKeypress(event){if(event.key===\"Enter\"){event.target.blur();}}},{key:\"render\",value:function render(){return React.createElement(\"div\",{class:\"container settings\",align:\"center\"},React.createElement(\"div\",{class:\"row\"},React.createElement(\"div\",{class:\"col\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"div\",{class:\"input-group input-group-lg\",id:\"dareForm\"},React.createElement(\"input\",{type:\"text\",class:\"form-control\",placeholder:\"Dare text\",\"aria-label\":\"Dare text\",value:this.state.value,onChange:this.handleChange}),React.createElement(\"div\",{class:\"input-group-append\"},React.createElement(\"button\",{class:\"btn btn-outline-secondary\",type:\"submit\"},\"Add dare\")))),React.createElement(EditDares,null))));}}]);return SettingsPage;}(Component);var mapStateToProps=function mapStateToProps(state){return{dares:state.dares};};export default connect(mapStateToProps,{addDare:addDare,filterDares:filterDares,deleteDare:deleteDare})(SettingsPage);","map":{"version":3,"sources":["C:/Users/SATAN/darelist/client/src/components/layout/settings-page.jsx"],"names":["React","Component","ReactDOM","connect","addDare","filterDares","deleteDare","EditDares","translate","SettingsPage","props","state","value","handleChange","bind","handleSubmit","handleKeypress","event","setState","target","preventDefault","promptText","prompt","newDares","i","length","dares","_id","newDare","text","pointValue","challengable","nsfw","key","blur","mapStateToProps"],"mappings":"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","sourcesContent":["//react libraries\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport '../../index.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\n//redux\r\nimport { connect } from 'react-redux';\r\nimport { addDare, filterDares, deleteDare } from '../../actions/dareActions';\r\n\r\n//bootstrap\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n//components\r\nimport EditDares from \"../game/edit-dares.jsx\"\r\n\r\n//functions\r\nimport translate from \"../../functions/textTranslator.js\";\r\n\r\nclass SettingsPage extends Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: ''\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleKeypress = this.handleKeypress.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.filterDares(this.state.value);\r\n  }\r\n\r\n  handleChange(event){\r\n    this.setState({value: event.target.value});\r\n    this.props.filterDares(this.state.value);\r\n  }\r\n\r\n  handleSubmit(event){\r\n    event.preventDefault();\r\n\r\n    if(this.state.value === \"admin: translate\"){\r\n      let promptText = prompt(\"document translate: \");\r\n      var newDares = translate(promptText);\r\n      for(var i = 0; i<newDares.length; i++){\r\n        this.props.addDare(newDares[i]);\r\n      }\r\n    } else if(this.state.value === \"admin: reset\"){\r\n      for(var i = 0; i<this.props.dares.dares.length; i++){\r\n        this.props.deleteDare(this.props.dares.dares[i]._id);\r\n      }\r\n    } else {\r\n      const newDare = {\r\n        text: this.state.value,\r\n        pointValue: 1,\r\n        challengable: false,\r\n        nsfw: false\r\n      }\r\n\r\n      this.props.addDare(newDare);\r\n\r\n    }\r\n  }\r\n\r\n  handleKeypress(event){\r\n    if(event.key === \"Enter\"){\r\n      event.target.blur();\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div class=\"container settings\" align=\"center\">\r\n        <div class=\"row\">\r\n          <div class=\"col\">\r\n            <form onSubmit={this.handleSubmit}>\r\n              <div class=\"input-group input-group-lg\" id=\"dareForm\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Dare text\"\r\n                  aria-label=\"Dare text\"\r\n                  value={this.state.value}\r\n                  onChange={this.handleChange}\r\n                />\r\n                <div class=\"input-group-append\">\r\n                  <button class=\"btn btn-outline-secondary\" type=\"submit\">\r\n                    Add dare\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n            <EditDares />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSettingsPage.propTypes = {\r\n  addDare: PropTypes.func.isRequired,\r\n  filterDares: PropTypes.func.isRequired,\r\n  deleteDare: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  dares: state.dares\r\n});\r\n\r\nexport default connect(mapStateToProps, { addDare, filterDares, deleteDare })(SettingsPage);\r\n"]},"metadata":{},"sourceType":"module"}